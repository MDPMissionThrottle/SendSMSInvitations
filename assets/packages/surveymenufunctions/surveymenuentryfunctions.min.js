var SurveymenuEntriesFunctions=function(){var recurseGetObjectValueWithArray=function(obj,arr,pos){pos=pos||0;if(arr.length==pos){return obj}return obj[arr[pos]]!==undefined?recurseGetObjectValueWithArray(obj[arr[pos]],arr,pos+1):null};var setObjectValueWithArray=function(value,obj,arr){var nobjstr="";for(var j=0;j<arr.length;j++){nobjstr+=j<arr.length-1?'{ "'+arr[j]+'": ':'{ "'+arr[j]+'": '+'"'+value+'"'}nobjstr+="}".repeat(arr.length);var nobj=JSON.parse(nobjstr),max=arr.length,ref=obj,i=0,success=false;obj=$.extend(true,obj,nobj);do{var tmpref=ref[arr[i]];if(typeof tmpref!=="object"){if(tmpref!==undefined){ref[arr[i]]=value;success=true;break}}ref=tmpref;tmpref=undefined;i++}while(true);return success};var bind=function(){var sCurrentDataOptions=$("#SurveymenuEntries_data").val();var oCurrentDataOptions={};try{oCurrentDataOptions=JSON.parse(sCurrentDataOptions)}catch(e){console.ls.warn("Invalid JSON in data setting",sCurrentDataOptions)}$(".selector__dataOptionModel").each(function(i,item){var aOptionValues=$(item).data("option");var currentObjectValue=recurseGetObjectValueWithArray(oCurrentDataOptions,aOptionValues);if(currentObjectValue!==null&&currentObjectValue!==false){$(item).prop("checked",true)}});$("#SurveymenuEntries_data").on("change",function(){});$(".selector__dataOptionModel").on("change",function(){var toSetValue=$(this).prop("checked")?$(this).attr("value"):null;var optionArray=$(this).data("option");var setSuccessfull=setObjectValueWithArray(toSetValue,oCurrentDataOptions,optionArray);if(setSuccessfull){$("#SurveymenuEntries_data").val(JSON.stringify(oCurrentDataOptions))}if($(this).hasClass("selector__disable_following")){var prio=$(this).data("priority");var value=$(this).prop("checked");$(".selector__dataOptionModel").each(function(j,jtem){if($(jtem).data("priority")<prio){$(jtem).prop("disabled",value);if(value){$(jtem).closest("label").addClass("disabled")}else{$(jtem).closest("label").removeClass("disabled")}}})}})};return bind};